{
    "active_builds": "simulated_sample_3 simulated_sample_3_test_tree natural_sample_1_with_90_vpm_sliding natural_sample_1_with_90_vpm_sliding_test_tree natural_sample_20191001",
    "datasets": {
        "simulated_sample_1": {
            "description": "Require a minimum fitness for randomly select amino acids in non-stationary positive selection",
            "seed": 1,
            "lineage": "simulated",
            "segment": "ha",
            "viruses_per_month": 10
        },
        "simulated_sample_3": {
            "description": "Highest density sampling of simulated populations with same settings as simulated_sample_1",
            "seed": 3,
            "lineage": "simulated",
            "segment": "ha",
            "viruses_per_month": 90
        },
        "natural_sample_1_with_90_vpm": {
            "lineage": "h3n2",
            "segment": "ha",
            "fauna_fields": "strain virus accession collection_date region country division location passage_category submitting_lab age gender",
            "fasta_fields": "strain virus accession date region country division location passage submitting_lab age gender",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "viruses_per_month": 90,
            "min_sequence_length": 900,
            "outliers": "config/outliers_h3n2.txt",
            "required_strains": "config/references_h3n2.txt",
            "frozen_strains": "data/natural/natural_sample_1_with_90_vpm/frozen_strains.txt",
            "start_date": "1990-10-01",
            "end_date": "2015-10-01"
        },
        "natural_sample_1_with_90_vpm_test_tree": {
            "lineage": "h3n2",
            "segment": "ha",
            "fauna_fields": "strain virus accession collection_date region country division location passage_category submitting_lab age gender",
            "fasta_fields": "strain virus accession date region country division location passage submitting_lab age gender",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "viruses_per_month": 90,
            "min_sequence_length": 900,
            "outliers": "config/outliers_h3n2.txt",
            "required_strains": "config/references_h3n2.txt",
            "frozen_strains": "data/natural/natural_sample_1_with_90_vpm_test_tree/frozen_strains.txt",
            "start_date": "1990-10-01",
            "end_date": "2019-10-01"
        }
    },
    "builds": {
        "simulated": {
            "simulated_sample_1": {
                "description": "Analysis of simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_1/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_1/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_1/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2040-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "normalized_fitness",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "delta_frequency",
                    "lbi-ne_star"
                ],
                "best_predictor": "results/builds/simulated/simulated_sample_1/minimal_models_by_distances/normalized_fitness.json"
            },
            "simulated_sample_1_full_tree": {
                "dataset_sample": "simulated_sample_1",
                "description": "Full tree for analysis of sparse simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_1/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_1/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_1/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2040-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 30,
                "years_back_to_build_trees": 30,
                "reference": "config/reference_h3n2_ha.gb",
                "best_predictor": "results/builds/simulated/simulated_sample_1/minimal_models_by_distances/normalized_fitness.json"
            },
            "simulated_sample_1_test_tree": {
                "dataset_sample": "simulated_sample_1",
                "description": "Test data for analysis of sparse simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_1/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_1/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_1/strains.txt",
                "start_date": "2034-10-01",
                "end_date": "2050-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "reference": "config/reference_h3n2_ha.gb",
                "best_predictor": "results/builds/simulated/simulated_sample_1/minimal_models_by_distances/normalized_fitness.json"
            },
            "simulated_sample_3": {
                "description": "Analysis of simulated A/H3N2-like populations (current best)",
                "full_tree_build": "simulated_sample_3_full_tree",
                "sequences": "data/simulated/simulated_sample_3/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_3/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_3/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2040-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "normalized_fitness",
                    "ep_star",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "delta_frequency",
                    "ep_star-ne_star",
                    "ep_x-ne_star",
                    "lbi-ne_star"
                ],
                "best_predictor": "results/builds/simulated/simulated_sample_3/minimal_models_by_distances/normalized_fitness.json",
                "validation_predictors": [
                    "naive",
                    "lbi-ne_star",
                    "normalized_fitness"
                ]
            },
            "simulated_sample_3_full_tree": {
                "dataset_sample": "simulated_sample_3",
                "description": "Full tree for analysis of dense simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_3/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_3/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_3/strains.txt",
                "start_date": "2030-10-01",
                "end_date": "2040-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 10,
                "years_back_to_build_trees": 10,
                "reference": "config/reference_h3n2_ha.gb",
                "best_predictor": "results/builds/simulated/simulated_sample_3/minimal_models_by_distances/normalized_fitness.json"
            },
            "simulated_sample_3_test_tree": {
                "dataset_sample": "simulated_sample_3",
                "validation_build": "simulated_sample_3",
                "full_tree_build": "simulated_sample_3_full_test_tree",
                "description": "Test data for analysis of dense simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_3/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_3/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_3/strains.txt",
                "start_date": "2034-04-01",
                "end_date": "2049-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "normalized_fitness",
                    "ep_star",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "delta_frequency",
                    "ep_star-ne_star",
                    "ep_x-ne_star",
                    "lbi-ne_star"
                ],
                "best_predictor": "results/builds/simulated/simulated_sample_3/minimal_models_by_distances/normalized_fitness.json",
                "validation_predictors": [
                    "naive",
                    "lbi-ne_star",
                    "normalized_fitness"
                ]
            },
            "simulated_sample_3_full_test_tree": {
                "dataset_sample": "simulated_sample_3",
                "description": "Full tree for test data for analysis of dense simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_3/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_3/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_3/strains.txt",
                "start_date": "2039-10-01",
                "end_date": "2049-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 10,
                "years_back_to_build_trees": 10,
                "reference": "config/reference_h3n2_ha.gb",
                "best_predictor": "results/builds/simulated/simulated_sample_3/minimal_models_by_distances/normalized_fitness.json"
            }
        },
        "natural": {
            "natural_sample_1_with_90_vpm_sliding": {
                "description": "Very dense sampling of viruses over 25 years of H3N2 evolution after filtering outliers that don't match clock rate (current best)",
                "dataset_sample": "natural_sample_1_with_90_vpm",
                "full_tree_build": "natural_sample_1_with_90_vpm_sliding_full_tree",
                "sequences": "data/natural/natural_sample_1_with_90_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_1_with_90_vpm/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_1_with_90_vpm/titers.tsv",
                "start_date": "1990-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep_star",
                    "ep_x_koel",
                    "ep_x_wolf",
                    "ep_x",
                    "oracle_x",
                    "cTiter",
                    "cTiter_x",
                    "ne_star",
                    "dms_star",
                    "dms_nonepitope",
                    "dms_entropy",
                    "lbi",
                    "delta_frequency",
                    "ep_star-ne_star",
                    "ep_x-ne_star",
                    "ne_star-lbi",
                    "cTiter_x-ne_star",
                    "cTiter_x-ne_star-lbi"
                ],
                "best_predictor": "results/builds/natural/natural_sample_1_with_90_vpm_sliding/minimal_models_by_distances/ne_star-lbi.json",
                "validation_predictors": [
                    "naive",
                    "ne_star-lbi",
                    "cTiter_x-ne_star"
                ]
            },
            "natural_sample_1_with_90_vpm_sliding_full_tree": {
                "description": "Full tree for very dense sampling of viruses over 25 years of H3N2 evolution after filtering outliers that don't match clock rate",
                "dataset_sample": "natural_sample_1_with_90_vpm",
                "sequences": "data/natural/natural_sample_1_with_90_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_1_with_90_vpm/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_1_with_90_vpm/titers.tsv",
                "start_date": "1990-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 25,
                "years_back_to_build_trees": 30,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": ["ne_star-lbi"],
                "best_predictor": "results/builds/natural/natural_sample_1_with_90_vpm_sliding/minimal_models_by_distances/ne_star-lbi.json"
            },
            "natural_sample_1_with_90_vpm_sliding_test_tree": {
                "description": "Test data for very dense sampling of viruses over 25 years of H3N2 evolution after filtering outliers that don't match clock rate",
                "dataset_sample": "natural_sample_1_with_90_vpm_test_tree",
                "validation_build": "natural_sample_1_with_90_vpm_sliding",
                "full_tree_build": "natural_sample_1_with_90_vpm_sliding_full_test_tree",
                "sequences": "data/natural/natural_sample_1_with_90_vpm_test_tree/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_1_with_90_vpm_test_tree/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_1_with_90_vpm_test_tree/titers.tsv",
                "start_date": "2009-04-01",
                "end_date": "2019-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep_star",
                    "ep_x_koel",
                    "ep_x_wolf",
                    "ep_x",
                    "oracle_x",
                    "cTiter",
                    "cTiter_x",
                    "ne_star",
                    "dms_star",
                    "dms_nonepitope",
                    "dms_entropy",
                    "lbi",
                    "delta_frequency",
                    "ep_star-ne_star",
                    "ep_x-ne_star",
                    "ne_star-lbi",
                    "cTiter_x-ne_star",
                    "cTiter_x-ne_star-lbi"
                ],
                "best_predictor": "results/builds/natural/natural_sample_1_with_90_vpm_sliding/minimal_models_by_distances/cTiter_x-ne_star.json",
                "validation_predictors": [
                    "naive",
                    "ne_star-lbi",
                    "cTiter_x-ne_star"
                ]
            },
            "natural_sample_1_with_90_vpm_sliding_full_test_tree": {
                "description": "Full tree for test data for very dense sampling of viruses over 25 years of H3N2 evolution after filtering outliers that don't match clock rate",
                "dataset_sample": "natural_sample_1_with_90_vpm_test_tree",
                "sequences": "data/natural/natural_sample_1_with_90_vpm_test_tree/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_1_with_90_vpm_test_tree/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_1_with_90_vpm_test_tree/titers.tsv",
                "start_date": "2009-10-01",
                "end_date": "2019-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 10,
                "years_back_to_build_trees": 10,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": ["ne_star-lbi"],
                "best_predictor": "results/builds/natural/natural_sample_1_with_90_vpm_sliding/minimal_models_by_distances/cTiter_x-ne_star.json"
            },
            "natural_sample_20191001": {
                "description": "Most recent build with very dense sampling of viruses to evaluate change in model coefficients during timepoints in the test period",
                "dataset_sample": "natural_sample_1_with_90_vpm_test_tree",
                "sequences": "data/natural/natural_sample_1_with_90_vpm_test_tree/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_1_with_90_vpm_test_tree/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_1_with_90_vpm_test_tree/titers.tsv",
                "fra_titers": "data/natural/natural_sample_1_with_90_vpm_test_tree/fra_titers.tsv",
                "start_date": "2002-04-01",
                "end_date": "2019-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "fra_cTiter_x-ne_star",
                    "ne_star-lbi",
                    "cTiter_x-ne_star",
                    "cTiter_x-ne_star-lbi"
                ],
                "best_predictor": "results/builds/natural/natural_sample_1_with_90_vpm_sliding/minimal_models_by_distances/cTiter_x-ne_star.json"
            }
        }
    },
    "path_to_fauna": "../fauna",
    "years_for_titer_alignments": 10,
    "min_tips_per_clade": 1,
    "min_frequency_per_clade": 0.0,
    "delta_pivots": 1,
    "months_for_distance_season": 12,
    "months_back_for_current_samples": 6,
    "max_years_for_distances": 5,
    "years_back_for_target_distance": 3,
    "target_distance_attribute": "hamming",
    "titers": {
        "passages": ["cell"],
        "assays": ["hi"]
    },
    "predictors": [
        "naive",
        "lbi",
        "ep",
        "ep_star",
        "ep_x",
        "cTiter",
        "cTiterSub",
        "cTiterSub_star",
        "cTiterSub_x",
        "delta_frequency",
        "dms_star",
        "ne_star",
        "lbi-delta_frequency",
        "lbi-ne_star",
        "lbi-cTiter-ne_star",
        "lbi-ep_x-ne_star"
    ],
    "predictors_simulated": [
        "naive",
        "fitness",
        "lbi",
        "ep_x",
        "delta_frequency",
        "ne_star",
        "ep_x-ne_star",
        "lbi-ne_star",
        "lbi-ep_x-ne_star"
    ],
    "frequencies": {
        "narrow_bandwidth": 0.1667,
        "wide_bandwidth": 0.25,
        "proportion_wide": 0.0,
        "pivot_frequency": 6,
        "bandwidths": [0.02, 0.04, 0.08, 0.16, 0.25, 0.33, 0.5],
        "min_mutation_frequency": 0.0,
        "stiffness": 20,
        "inertia": 0.2,
        "min_freq": 0.01,
        "preferred_method": "kde",
        "max_years_for_diffusion": 2
    },
    "lbi": {
        "tau": 0.3,
        "window": 0.5
    },
    "excluded_node_data_fields": [
        "aa_muts",
        "aa_sequences",
        "country_confidence",
        "ep_pairwise",
        "cTiterSub_pairwise",
        "ep_luksza_pairwise",
        "ep_kratsch_pairwise",
        "muts",
        "num_date_confidence",
        "region_confidence",
        "sequence"
    ],
    "cross_immunity": {
        "h3n2": {
            "ha": {
                "simulated": {
                    "distance_attributes": "ep_pairwise",
                    "immunity_attributes": "ep_x",
                    "decay_factors": "14.0"
                },
                "natural": {
                    "distance_attributes": "ep_pairwise ep_pairwise_wolf ep_pairwise_koel oracle_pairwise",
                    "immunity_attributes": "ep_x ep_x_wolf ep_x_koel oracle_x",
                    "decay_factors": "14.0 14.0 14.0 14.0"
                }
            }
        }
    },
    "fitness_model": {
        "min_freq": 0.01,
        "max_freq": 0.99,
        "training_window": 6,
        "delta_months_to_fit": 12,
        "delta_months": [6, 12],
        "primary_segment": "ha",
        "clade_cost_function": "information_gain",
        "distance_cost_function": "diffsum",
        "l1_lambda": 0.1,
        "pseudocount": 0.001
    }
}
