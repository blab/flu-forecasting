{
    "datasets": {
        "simulated_sample_0": {
            "seed": 0,
            "lineage": "simulated",
            "segment": "ha",
            "viruses_per_month": 10
        },
        "simulated_sample_1": {
            "description": "Require a minimum fitness for randomly select amino acids in non-stationary positive selection",
            "seed": 1,
            "lineage": "simulated",
            "segment": "ha",
            "viruses_per_month": 10
        },
        "simulated_sample_2": {
            "description": "Higher density sampling of simulated populations with same settings as simulated_sample_1",
            "seed": 2,
            "lineage": "simulated",
            "segment": "ha",
            "viruses_per_month": 30
        },
        "simulated_sample_3": {
            "description": "Highest density sampling of simulated populations with same settings as simulated_sample_1",
            "seed": 3,
            "lineage": "simulated",
            "segment": "ha",
            "viruses_per_month": 90
        },
        "natural_sample_0_with_10_vpm": {
            "lineage": "h3n2",
            "segment": "ha",
            "fauna_fields": "strain virus accession collection_date region country division location passage_category submitting_lab age gender",
            "fasta_fields": "strain virus accession date region country division location passage submitting_lab age gender",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "viruses_per_month": 10,
            "min_sequence_length": 1700,
            "outliers": "config/outliers_h3n2.txt",
            "required_strains": "config/references_h3n2.txt",
            "start_date": "1994-10-01",
            "end_date": "2015-10-01"
        },
        "natural_sample_1_with_10_vpm": {
            "lineage": "h3n2",
            "segment": "ha",
            "fauna_fields": "strain virus accession collection_date region country division location passage_category submitting_lab age gender",
            "fasta_fields": "strain virus accession date region country division location passage submitting_lab age gender",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "viruses_per_month": 10,
            "min_sequence_length": 900,
            "outliers": "config/outliers_h3n2.txt",
            "required_strains": "config/references_h3n2.txt",
            "start_date": "1994-10-01",
            "end_date": "2015-10-01"
        },
        "natural_sample_0_with_20_vpm": {
            "lineage": "h3n2",
            "segment": "ha",
            "fauna_fields": "strain virus accession collection_date region country division location passage_category submitting_lab age gender",
            "fasta_fields": "strain virus accession date region country division location passage submitting_lab age gender",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "viruses_per_month": 20,
            "min_sequence_length": 900,
            "outliers": "config/outliers_h3n2.txt",
            "required_strains": "config/references_h3n2.txt",
            "start_date": "1994-10-01",
            "end_date": "2015-10-01"
        },
        "natural_sample_0_with_30_vpm": {
            "lineage": "h3n2",
            "segment": "ha",
            "fauna_fields": "strain virus accession collection_date region country division location passage_category submitting_lab age gender",
            "fasta_fields": "strain virus accession date region country division location passage submitting_lab age gender",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "viruses_per_month": 30,
            "min_sequence_length": 900,
            "outliers": "config/outliers_h3n2.txt",
            "required_strains": "config/references_h3n2.txt",
            "start_date": "1994-10-01",
            "end_date": "2015-10-01"
        },
        "natural_sample_0_with_90_vpm": {
            "lineage": "h3n2",
            "segment": "ha",
            "fauna_fields": "strain virus accession collection_date region country division location passage_category submitting_lab age gender",
            "fasta_fields": "strain virus accession date region country division location passage submitting_lab age gender",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "viruses_per_month": 90,
            "min_sequence_length": 900,
            "outliers": "config/outliers_h3n2.txt",
            "required_strains": "config/references_h3n2.txt",
            "start_date": "1992-10-01",
            "end_date": "2015-10-01"
        },
        "luksza_lassig": {
            "lineage": "h3n2",
            "segment": "ha",
            "titer_databases": "tdb cdc_tdb crick_tdb vidrl_tdb niid_tdb",
            "titer_assay": "hi",
            "titer_passage": "cell",
            "required_strains": "data/natural/luksza_lassig/strains.txt"
        }
    },
    "builds": {
        "simulated": {
            "simulated_sample_0": {
                "description": "Analysis of simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_0/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_0/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_0/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2030-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 30,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "normalized_fitness",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ep_x-ne_star"
                ]
            },
            "simulated_sample_1": {
                "description": "Analysis of simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_1/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_1/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_1/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2040-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "active": true,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "normalized_fitness",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "delta_frequency",
                    "lbi-ne_star"
                ],
                "best_predictor": "results/builds/simulated/simulated_sample_1/minimal_models_by_distances/normalized_fitness.json"
            },
            "simulated_sample_1_full_tree": {
                "dataset_sample": "simulated_sample_1",
                "description": "Full tree for analysis of sparse simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_1/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_1/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_1/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2040-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 30,
                "years_back_to_build_trees": 30,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "best_predictor": "results/builds/simulated/simulated_sample_1/minimal_models_by_distances/normalized_fitness.json"
            },
            "simulated_sample_1_test_tree": {
                "dataset_sample": "simulated_sample_1",
                "description": "Test data for analysis of sparse simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_1/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_1/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_1/strains.txt",
                "start_date": "2034-10-01",
                "end_date": "2050-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "best_predictor": "results/builds/simulated/simulated_sample_1/minimal_models_by_distances/normalized_fitness.json"
            },
            "simulated_sample_2": {
                "description": "Analysis of simulated A/H3N2-like populations",
                "sequences": "data/simulated/simulated_sample_2/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_2/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_2/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2030-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 6,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "normalized_fitness",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ep_x-ne_star",
                    "delta_frequency-ep_x-ne_star"
                ]
            },
            "simulated_sample_3": {
                "description": "Analysis of simulated A/H3N2-like populations (current best)",
                "sequences": "data/simulated/simulated_sample_3/filtered_sequences.fasta",
                "metadata": "data/simulated/simulated_sample_3/filtered_metadata.tsv",
                "strains": "data/simulated/simulated_sample_3/strains.txt",
                "start_date": "2010-10-01",
                "end_date": "2030-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 6,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "normalized_fitness",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ep_x-ne_star",
                    "delta_frequency-ep_x-ne_star"
                ],
                "best_predictor": "results/builds/simulated/simulated_sample_3/minimal_models_by_distances/normalized_fitness.json"
            }
        },
        "natural": {
            "luksza_lassig": {
                "description": "Manually curated build including sequences from Luksza and Lassig 2014",
                "sequences": "data/natural/luksza_lassig/sequences_luksza.fasta",
                "metadata": "data/natural/luksza_lassig/metadata_luksza.tsv",
                "titers": "data/natural/luksza_lassig/titers.tsv",
                "start_date": "1991-10-01",
                "end_date": "2012-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 50,
                "active": false,
                "reference": "data/natural/luksza_lassig/A_Albany_17_1968.gb",
                "training_window": 8,
                "predictors": [
                    "naive",
                    "ep_x",
                    "ne_star",
                    "lbi",
                    "ep_x-ne_star",
                    "lbi-ep_x-ne_star"
                ]
            },
            "natural_sample_0_with_10_vpm": {
                "description": "Sparse sampling of viruses over 21 years of H3N2 evolution",
                "sequences": "data/natural/natural_sample_0_with_10_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_0_with_10_vpm/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_0_with_10_vpm/titers.tsv",
                "start_date": "1994-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 30,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep",
                    "ep_x",
                    "cTiter",
                    "cTiterSub",
                    "ne_star",
                    "dms_star",
                    "lbi",
                    "delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ep_x-ne_star"
                ]
            },
            "natural_sample_1_with_10_vpm": {
                "description": "Sparse sampling of viruses over 21 years of H3N2 evolution allowing for sequences >900 bp long",
                "sequences": "data/natural/natural_sample_1_with_10_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_1_with_10_vpm/strains_metadata.tsv",
                "complete_metadata": "data/natural/natural_sample_1_with_10_vpm/filtered_metadata.tsv",
                "titers": "data/natural/natural_sample_1_with_10_vpm/titers.tsv",
                "start_date": "1994-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 30,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep",
                    "ep_x",
                    "cTiter",
                    "cTiterSub",
                    "cTiterSub_star",
                    "cTiterSub_x",
                    "ne_star",
                    "dms_star",
                    "lbi",
                    "unnormalized_lbi",
                    "delta_frequency",
                    "ep-cTiter",
                    "ne_star-dms_star",
                    "lbi-delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ne_star",
                    "cTiter-ne_star",
                    "delta_frequency-ne_star",
                    "lbi-ep_x-ne_star",
                    "lbi-cTiter-ne_star",
                    "lbi-ep-cTiter-ne_star"
                ],
                "best_predictor": "lbi"
            },
            "natural_sample_1_with_10_vpm_sliding": {
                "dataset_sample": "natural_sample_1_with_10_vpm",
                "description": "A build with the same data as the natural sample 1 but with trees built in sliding windows",
                "sequences": "data/natural/natural_sample_1_with_10_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_1_with_10_vpm/strains_metadata.tsv",
                "complete_metadata": "data/natural/natural_sample_1_with_10_vpm/filtered_metadata.tsv",
                "titers": "data/natural/natural_sample_1_with_10_vpm/titers.tsv",
                "start_date": "1994-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 6,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep_x",
                    "cTiter",
                    "cTiterSub",
                    "cTiterSub_x",
                    "ne_star",
                    "dms_star",
                    "lbi",
                    "delta_frequency"
                ]
            },
            "natural_sample_0_with_20_vpm": {
                "description": "Dense sampling of viruses over 21 years of H3N2 evolution",
                "sequences": "data/natural/natural_sample_0_with_20_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_0_with_20_vpm/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_0_with_20_vpm/titers.tsv",
                "start_date": "1994-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 30,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep",
                    "ep_x",
                    "cTiter",
                    "cTiterSub",
                    "cTiterSub_x",
                    "ne_star",
                    "dms_star",
                    "lbi",
                    "delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ep_x-ne_star"
                ]
            },
            "natural_sample_0_with_20_vpm_sliding": {
                "description": "Dense sampling of viruses over 21 years of H3N2 evolution",
                "dataset_sample": "natural_sample_0_with_20_vpm",
                "sequences": "data/natural/natural_sample_0_with_20_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_0_with_20_vpm/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_0_with_20_vpm/titers.tsv",
                "start_date": "1994-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 6,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep",
                    "ep_x",
                    "cTiter",
                    "cTiter_x",
                    "cTiterSub",
                    "cTiterSub_x",
                    "ne_star",
                    "dms_star",
                    "dms_nonepitope",
                    "dms_entropy",
                    "lbi",
                    "delta_frequency"
                ]
            },
            "natural_sample_0_with_30_vpm_sliding": {
                "description": "Denser sampling of viruses over 21 years of H3N2 evolution",
                "dataset_sample": "natural_sample_0_with_30_vpm",
                "sequences": "data/natural/natural_sample_0_with_30_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_0_with_30_vpm/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_0_with_30_vpm/titers.tsv",
                "start_date": "1994-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 1,
                "years_back_to_build_trees": 6,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep",
                    "ep_wolf",
                    "ep_x",
                    "rb",
                    "cTiter",
                    "cTiter_x",
                    "cTiterSub",
                    "cTiterSub_x",
                    "ne_star",
                    "dms_star",
                    "dms_nonepitope",
                    "dms_entropy",
                    "lbi",
                    "delta_frequency",
                    "ep-cTiter",
                    "ep_x-cTiter_x",
                    "ne_star-dms_star",
                    "lbi-delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ne_star",
                    "cTiter-ne_star",
                    "cTiter_x-ne_star",
                    "delta_frequency-ne_star",
                    "lbi-ep_x-ne_star",
                    "lbi-cTiter-ne_star",
                    "lbi-cTiter_x-ne_star",
                    "delta_frequency-cTiter-ne_star",
                    "delta_frequency-cTiter_x-ne_star"
                ]
            },
            "natural_sample_0_with_90_vpm_sliding": {
                "description": "Very dense sampling of viruses over 23 years of H3N2 evolution (current best)",
                "dataset_sample": "natural_sample_0_with_90_vpm",
                "sequences": "data/natural/natural_sample_0_with_90_vpm/filtered_sequences.fasta",
                "metadata": "data/natural/natural_sample_0_with_90_vpm/strains_metadata.tsv",
                "titers": "data/natural/natural_sample_0_with_90_vpm/titers.tsv",
                "start_date": "1992-10-01",
                "end_date": "2015-10-01",
                "pivot_interval": 6,
                "min_years_per_build": 6,
                "years_back_to_build_trees": 6,
                "active": false,
                "reference": "config/reference_h3n2_ha.gb",
                "predictors": [
                    "naive",
                    "ep",
                    "ep_wolf",
                    "ep_x",
                    "rb",
                    "cTiter",
                    "cTiter_x",
                    "cTiterSub",
                    "cTiterSub_x",
                    "ne_star",
                    "dms_star",
                    "dms_nonepitope",
                    "dms_entropy",
                    "lbi",
                    "delta_frequency",
                    "ep-cTiter",
                    "ep_x-cTiter_x",
                    "ne_star-dms_star",
                    "lbi-delta_frequency",
                    "ep_x-ne_star",
                    "lbi-ne_star",
                    "cTiter-ne_star",
                    "cTiter_x-ne_star",
                    "delta_frequency-ne_star",
                    "lbi-ep_x-ne_star",
                    "lbi-cTiter-ne_star",
                    "lbi-cTiter_x-ne_star",
                    "delta_frequency-cTiter-ne_star",
                    "delta_frequency-cTiter_x-ne_star"
                ],
                "best_predictor": "results/builds/natural/natural_sample_0_with_90_vpm_sliding/models_by_distances/lbi-ne_star.json"
            }
        }
    },
    "path_to_fauna": "../fauna",
    "years_for_titer_alignments": 10,
    "min_tips_per_clade": 1,
    "min_frequency_per_clade": 0.0,
    "delta_pivots": 1,
    "months_for_distance_season": 12,
    "max_years_for_distances": 5,
    "years_back_for_target_distance": 3,
    "target_distance_attribute": "hamming",
    "titers": {
        "passages": ["cell"],
        "assays": ["hi"]
    },
    "predictors": [
        "naive",
        "lbi",
        "ep",
        "ep_star",
        "ep_x",
        "cTiter",
        "cTiterSub",
        "cTiterSub_star",
        "cTiterSub_x",
        "delta_frequency",
        "dms_star",
        "ne_star",
        "lbi-delta_frequency",
        "lbi-ne_star",
        "lbi-cTiter-ne_star",
        "lbi-ep_x-ne_star"
    ],
    "predictors_simulated": [
        "naive",
        "fitness",
        "lbi",
        "ep_x",
        "delta_frequency",
        "ne_star",
        "ep_x-ne_star",
        "lbi-ne_star",
        "lbi-ep_x-ne_star"
    ],
    "frequencies": {
        "narrow_bandwidth": 0.1667,
        "wide_bandwidth": 0.25,
        "proportion_wide": 0.0,
        "pivot_frequency": 6,
        "bandwidths": [0.02, 0.04, 0.08, 0.16, 0.25, 0.33, 0.5],
        "min_mutation_frequency": 0.0,
        "stiffness": 20,
        "inertia": 0.2,
        "min_freq": 0.01,
        "preferred_method": "kde",
        "max_years_for_diffusion": 2
    },
    "lbi": {
        "tau": 0.3,
        "window": 0.5
    },
    "excluded_node_data_fields": [
        "aa_muts",
        "aa_sequences",
        "country_confidence",
        "ep_pairwise",
        "cTiterSub_pairwise",
        "ep_luksza_pairwise",
        "ep_kratsch_pairwise",
        "muts",
        "num_date_confidence",
        "region_confidence"
    ],
    "cross_immunity": {
        "h3n2": {
            "ha": {
                "distance_attributes": "ep_pairwise",
                "immunity_attributes": "ep_x",
                "decay_factors": "14.0"
            }
        }
    },
    "fitness_model": {
        "min_freq": 0.01,
        "max_freq": 0.99,
        "training_window": 6,
        "delta_months_to_fit": 12,
        "delta_months": [6, 12],
        "primary_segment": "ha",
        "clade_cost_function": "information_gain",
        "distance_cost_function": "diffsum",
        "l1_lambda": 0.1,
        "pseudocount": 0.001
    }
}
